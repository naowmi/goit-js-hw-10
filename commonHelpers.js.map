{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport { butterup } from \"./butterup\"\nlet userSelectedDate\nconst daysDisplay = document.querySelector(\"[data-days]\")\nconst hoursDisplay = document.querySelector(\"[data-hours]\")\nconst minutesDisplay = document.querySelector(\"[data-minutes]\")\nconst secondsDisplay = document.querySelector(\"[data-seconds]\")\nconst startButton = document.querySelector('.start-btn');\nstartButton.disabled = true\nconst options = {\n  enableTime: true,\n    time_24hr: true,\n  defaultDate: new Date(),\n    minuteIncrement: 1,\n    \n    onClose(selectedDates) {\n      const selectedDate = selectedDates[0]\n        if (selectedDate < new Date()) {\n            butterup.toast({\n            title:'ERROR',\n            message:'Please choose a date in the future',\n            type:'error',\n              icon: true, \n            })\n            startButton.disabled = true\n        } else {\n            startButton.disabled = false\n            userSelectedDate = selectedDate\n            console.log(userSelectedDate);\n        }\n  },\n};\nflatpickr(\"#datetime-picker\", options)\n\nlet intervalId\nstartButton.addEventListener(\"click\", () => {\n    startButton.disabled = true\n    intervalId = setInterval(updateTimer, 1000);\n\n})\nfunction updateTimer() {\n    const timer = userSelectedDate - new Date();\n    if (timer <= 0) {\n        clearInterval(intervalId);\n        daysDisplay.textContent = \"00\";\n        hoursDisplay.textContent = \"00\";\n        minutesDisplay.textContent = \"00\";\n        secondsDisplay.textContent = \"00\";\n        return;\n    }\n    const { days, hours, minutes, seconds } = convertMs(timer);\ndaysDisplay.textContent = addLeadingZero(days),\n  hoursDisplay.textContent = addLeadingZero(hours),\n  minutesDisplay.textContent = addLeadingZero(minutes),\nsecondsDisplay.textContent = addLeadingZero(seconds)\n\n}\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n  \nfunction addLeadingZero(value) {\n    return value.toString().padStart(2, \"0\");\n}\n\n"],"names":["userSelectedDate","daysDisplay","hoursDisplay","minutesDisplay","secondsDisplay","startButton","options","selectedDates","selectedDate","butterup","flatpickr","intervalId","updateTimer","timer","days","hours","minutes","seconds","convertMs","addLeadingZero","ms","value"],"mappings":"kGAIA,IAAIA,EACJ,MAAMC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAc,SAAS,cAAc,YAAY,EACvDA,EAAY,SAAW,GACvB,MAAMC,EAAU,CACd,WAAY,GACV,UAAW,GACb,YAAa,IAAI,KACf,gBAAiB,EAEjB,QAAQC,EAAe,CACrB,MAAMC,EAAeD,EAAc,GAC7BC,EAAe,IAAI,MACnBC,EAAS,MAAM,CACf,MAAM,QACN,QAAQ,qCACR,KAAK,QACH,KAAM,EACpB,CAAa,EACDJ,EAAY,SAAW,KAEvBA,EAAY,SAAW,GACvBL,EAAmBQ,EACnB,QAAQ,IAAIR,CAAgB,EAErC,CACH,EACAU,EAAU,mBAAoBJ,CAAO,EAErC,IAAIK,EACJN,EAAY,iBAAiB,QAAS,IAAM,CACxCA,EAAY,SAAW,GACvBM,EAAa,YAAYC,EAAa,GAAI,CAE9C,CAAC,EACD,SAASA,GAAc,CACnB,MAAMC,EAAQb,EAAmB,IAAI,KACrC,GAAIa,GAAS,EAAG,CACZ,cAAcF,CAAU,EACxBV,EAAY,YAAc,KAC1BC,EAAa,YAAc,KAC3BC,EAAe,YAAc,KAC7BC,EAAe,YAAc,KAC7B,MACH,CACD,KAAM,CAAE,KAAAU,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAK,EAC7DZ,EAAY,YAAckB,EAAeL,CAAI,EAC3CZ,EAAa,YAAciB,EAAeJ,CAAK,EAC/CZ,EAAe,YAAcgB,EAAeH,CAAO,EACrDZ,EAAe,YAAce,EAAeF,CAAO,CAEnD,CACA,SAASC,EAAUE,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EAEpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EAEjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAGA,SAASE,EAAeE,EAAO,CAC3B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CAC3C"}